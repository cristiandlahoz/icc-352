<!DOCTYPE html>
<html lang="es" data-bs-theme="auto" xmlns:th="https://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Editar Usuario</title>
</head>

<body>
<section class="vh-100 d-flex align-items-center">
  <div class="container">
    <div class="row gx-lg-5 align-items-center">
      <div class="col-lg-6 mb-5 mb-lg-0">
        <h1 class="my-5 display-3 fw-bold ls-tight">
          Welcome to <br />
          <span class="bg-[#f84525] text-white px-2 rounded-md">Wornux</span>
        </h1>
        <p style="color: #666; font-size: 1.45em;">
          An ideal website for writing, reading, and commenting on a
          wide variety of articles about current topics in technology.
        </p>
      </div>

      <div class="col-lg-6 mb-5 mb-lg-0">
        <div class="card">
          <div class="card-body py-5 px-md-5">
            <h2 class="text-center mb-4">Editar Usuario</h2>

            <form id="updateUserForm" th:action="@{'/users/form/' + ${user.userId}}" method="post" onsubmit="return validateForm()">
              <!-- Full Name input -->
              <div class="form-outline mb-4">
                <label class="form-label" for="name">Nombre Completo</label>
                <input type="text" id="name" name="name" class="form-control"
                       th:value="${user.name}" placeholder="Ingrese el nombre completo" required />
              </div>

              <!-- Username input -->
              <div class="form-outline mb-4">
                <label class="form-label" for="username">Nombre de Usuario</label>
                <input type="text" id="username" name="username" class="form-control"
                       th:value="${user.username}" placeholder="Ingrese el nombre de usuario" required />
              </div>

              <!-- Password input -->
              <div class="form-outline mb-4">
                <label class="form-label" for="password">Contraseña</label>
                <div class="relative">
                  <input id="password" type="password" name="password"
                         class="form-control" placeholder="Ingrese la nueva contraseña" th:value="${user.password}" required />
                  <div class="absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5">
                    <button type="button" id="togglePassword"
                            class="text-gray-500 focus:outline-none focus:text-gray-600 hover:text-gray-600">
                      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24">
                        <path d="M12 4.998c-1.836 0-3.356.389-4.617.971L3.707 2.293 2.293 3.707l3.315 3.316c-2.613 1.952-3.543 4.618-3.557 4.66l-.105.316.105.316C2.073 12.382 4.367 19 12 19c1.835 0 3.354-.389 4.615-.971l3.678 3.678 1.414-1.414-3.317-3.317c2.614-1.952 3.545-4.618 3.559-4.66l.105-.316-.105-.316c-.022-.068-2.316-6.686-9.949-6.686z"/>
                      </svg>
                    </button>
                  </div>
                </div>
              </div>

              <!-- Submit button (Centrado) -->
              <div class="text-center">
                <button type="submit" class="btn btn-primary btn-lg mb-4">
                  Actualizar
                </button>
              </div>

              <!-- Cancel Button -->
              <div class="text-center">
                <button type="button" class="btn btn-outline-secondary btn-sm" onclick="history.back()">
                  Cancelar
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  function validateForm() {
    const name = document.getElementById("name").value.trim();
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();

    if (name === "" || username === "" || password === "") {
      alert("Todos los campos deben estar llenos.");
      return false;
    }

    return true;
  }
</script>
</body>

</html>
